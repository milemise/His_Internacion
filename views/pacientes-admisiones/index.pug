extends ../layout

block content
  .max-w-6xl.mx-auto.mt-10.bg-white.p-6.rounded-2xl.shadow-lg
    h1.text-3xl.font-bold.text-blue-900.mb-6 Pacientes y sus Admisiones

    table.table-auto.w-full.border.border-gray-200.rounded-lg.shadow-sm
      thead.bg-blue-100
        tr
          th.text-left.p-3.text-sm.text-gray-700 Nombre
          th.text-left.p-3.text-sm.text-gray-700 Fecha de Nacimiento
          th.text-left.p-3.text-sm.text-gray-700 Sexo
          th.text-left.p-3.text-sm.text-gray-700 Última Admisión
          th.text-left.p-3.text-sm.text-gray-700 Estado
          th.text-left.p-3.text-sm.text-gray-700 Habitación
          th.text-left.p-3.text-sm.text-gray-700 Acciones

      tbody
        each paciente in pacientes
          tr.border-b.border-gray-100.hover:bg-blue-50
            td.p-3 #{paciente.nombre}
            td.p-3 #{paciente.fecha_nacimiento}
            td.p-3 #{paciente.sexo}
            td.p-3 #{paciente.ultima_admision?.fecha || 'N/A'}
            td.p-3 #{paciente.ultima_admision?.estado || 'Sin internar'}
            td.p-3 #{paciente.ultima_admision?.habitacion || '—'}
            td.p-3
              a(href=`/pacientes/${paciente.id}` class="text-blue-600 hover:underline text-sm") Ver Detalle
